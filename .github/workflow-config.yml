# Centralized GitHub Workflow Configuration
# This file contains shared configuration values for all workflows

# Version Configuration
node-version: '20'
postgres-version: '15'
redis-version: '7-alpine'

# Database Configuration
database:
  host: localhost
  port: 5432
  name: aegisx_test
  user: postgres
  password: postgres

# Redis Configuration
redis:
  host: localhost
  port: 6379

# JWT Configuration (for testing)
jwt:
  secret: test-jwt-secret-key-for-ci
  refresh-secret: test-jwt-refresh-secret-key-for-ci

# Docker Registry
registry: ghcr.io

# Timeouts (in minutes)
timeouts:
  quality: 10
  build: 15
  test: 20
  e2e: 30
  docker: 30
  security: 20

# Artifact Retention (in days)
retention:
  test-results: 7
  coverage: 7
  security-reports: 30
  build-artifacts: 7
  visual-snapshots: 30

# Path Filters
paths:
  api:
    - 'apps/api/**'
    - 'libs/**'
    - 'package.json'
    - 'yarn.lock'
    - 'knexfile.ts'
  web:
    - 'apps/web/**'
    - 'libs/**'
    - 'package.json'
    - 'yarn.lock'
  admin:
    - 'apps/admin/**'
    - 'libs/**'
    - 'package.json'
    - 'yarn.lock'
  e2e:
    - 'apps/e2e/**'
    - 'apps/**'
    - 'libs/**'
    - 'playwright.config.ts'
  security:
    - 'package.json'
    - 'yarn.lock'
    - '**/Dockerfile'
    - '.github/workflows/security.yml'

# Notification Settings
notifications:
  slack:
    webhook: ${{ secrets.SLACK_WEBHOOK }}
    channel: '#deployments'
  email:
    to: 'devops@aegisx.com'
