/* You can add global styles to this file, and also import other style files */

/* Import Tailwind CSS */
@tailwind base;

/* Fuse Base Styles Layer */
@layer base {
    * {
        /* Text rendering */
        text-rendering: optimizeLegibility;
        -o-text-rendering: optimizeLegibility;
        -ms-text-rendering: optimizeLegibility;
        -moz-text-rendering: optimizeLegibility;
        -webkit-text-rendering: optimizeLegibility;
        -webkit-tap-highlight-color: transparent;

        /* Remove the focus ring */
        &:focus {
            outline: none !important;
        }
    }

    /* HTML and Body default styles */
    html,
    body {
        display: flex;
        flex-direction: column;
        flex: 1 1 auto;
        width: 100%;
        min-height: 100%;
        -webkit-font-smoothing: auto;
        -moz-osx-font-smoothing: auto;
    }

    /* Font size */
    html {
        font-size: 16px;
    }

    body {
        font-size: 0.875rem;
        font-feature-settings: 'salt';
    }

    /* Better spacing and border for horizontal rule */
    hr {
        margin: 32px 0;
        border-bottom-width: 1px;
    }

    /* Make images and videos to take up all the available space */
    img {
        width: 100%;
        vertical-align: top;
    }

    /* Fix: Disabled placeholder color is too faded on Safari */
    input[disabled] {
        opacity: 1;
        -webkit-text-fill-color: currentColor;
    }

    /* Set the background and foreground colors */
    body,
    .dark,
    .light {
        @apply text-default bg-default #{'!important'};
    }

    /* Set the border color */
    *,
    ::before,
    ::after {
        --tw-border-opacity: 1 !important;
        border-color: rgba(var(--fuse-border-rgb), var(--tw-border-opacity));

        .dark & {
            --tw-border-opacity: 0.12 !important;
        }
    }

    /* Style scrollbars on platforms other than MacOS and iOS */
    @media only screen and (min-width: 960px) {
        body:not(.os-mac) {
            ::-webkit-scrollbar {
                width: 8px;
                height: 8px;
                background-color: rgba(0, 0, 0, 0);
            }

            ::-webkit-scrollbar:hover {
                width: 8px;
                height: 8px;
                background-color: rgba(0, 0, 0, 0.06);
            }

            ::-webkit-scrollbar-thumb {
                border: 2px solid transparent;
                border-radius: 20px;
                box-shadow: inset 0 0 0 20px rgba(0, 0, 0, 0.24);
            }

            ::-webkit-scrollbar-thumb:active {
                border-radius: 20px;
                box-shadow: inset 0 0 0 20px rgba(0, 0, 0, 0.37);
            }

            &.dark {
                ::-webkit-scrollbar-thumb {
                    box-shadow: inset 0 0 0 20px rgba(255, 255, 255, 0.24);
                }

                ::-webkit-scrollbar-thumb:active {
                    box-shadow: inset 0 0 0 20px rgba(255, 255, 255, 0.37);
                }
            }
        }
    }

    /* Set the foreground color for disabled elements */
    [disabled] {
        @apply text-disabled #{'!important'};
    }

    /* Print styles */
    @media print {
        /* Make the base font size smaller for print so everything is scaled nicely */
        html {
            font-size: 12px !important;
        }

        body,
        .dark,
        .light {
            background: none !important;
        }
    }
}

@tailwind components;
@tailwind utilities;

/* Import Angular Material Theme */
@import '@angular/material/prebuilt-themes/indigo-pink.css';

/* Import Material Icons */
@import url('https://fonts.googleapis.com/icon?family=Material+Icons');

/* Material Icons Base Styles */
.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
}

/* Import Perfect Scrollbar */
@import 'perfect-scrollbar/css/perfect-scrollbar.css';

/* Import Fuse Styles */
/* Temporarily disabled due to Tailwind conflicts - using inline styles in components instead */
/* @import '../../../libs/aegisx-ui/src/lib/styles/fuse.scss'; */

/* CSS Variables for Fuse theme colors */
:root {
  /* Light theme colors */
  --fuse-bg-card: #ffffff;
  --fuse-bg-card-rgb: 255, 255, 255;
  --fuse-bg-default: #f1f5f9;
  --fuse-bg-default-rgb: 241, 245, 249;
  --fuse-text-default: #1e293b;
  --fuse-text-secondary: #64748b;
  --fuse-text-hint: #94a3b8;
  --fuse-text-disabled: #94a3b8;
  --fuse-border: #e2e8f0;
  --fuse-border-rgb: 226, 232, 240;
  --fuse-divider: #e2e8f0;
  /* Additional Fuse colors */
  --fuse-icon: #64748b;
  --fuse-mat-icon: #64748b;
  --fuse-hover: rgba(148, 163, 184, 0.12);
}

.dark {
  /* Dark theme colors */
  --fuse-bg-card: #1e293b;
  --fuse-bg-card-rgb: 30, 41, 59;
  --fuse-bg-default: #0f172a;
  --fuse-bg-default-rgb: 15, 23, 42;
  --fuse-text-default: #ffffff;
  --fuse-text-secondary: #94a3b8;
  --fuse-text-hint: #64748b;
  --fuse-text-disabled: #475569;
  --fuse-border: rgba(241, 245, 249, 0.12);
  --fuse-border-rgb: 241, 245, 249;
  --fuse-divider: rgba(241, 245, 249, 0.12);
  /* Additional Fuse colors */
  --fuse-icon: #f1f5f9;
  --fuse-mat-icon: #94a3b8;
  --fuse-hover: rgba(255, 255, 255, 0.05);
}

/* Define Fuse utility classes */
@layer utilities {
  .bg-card {
    background-color: var(--fuse-bg-card);
  }
  
  .bg-default {
    background-color: var(--fuse-bg-default);
  }
  
  .text-default {
    color: var(--fuse-text-default);
  }
  
  .text-secondary {
    color: var(--fuse-text-secondary);
  }
  
  .text-hint {
    color: var(--fuse-text-hint);
  }
  
  .text-disabled {
    color: var(--fuse-text-disabled);
  }
  
  .text-card-foreground {
    color: var(--fuse-text-default);
  }
  
  .border-color {
    border-color: var(--fuse-border);
  }
  
  .hover\:bg-hover:hover {
    background-color: var(--fuse-hover);
  }
  
  /* Icon sizes matching Fuse */
  .icon-size-4 {
    font-size: 1rem !important;
    width: 1rem !important;
    height: 1rem !important;
    min-width: 1rem !important;
    min-height: 1rem !important;
  }
  
  .icon-size-5 {
    font-size: 1.25rem !important;
    width: 1.25rem !important;
    height: 1.25rem !important;
    min-width: 1.25rem !important;
    min-height: 1.25rem !important;
  }
  
  .icon-size-6 {
    font-size: 1.5rem !important;
    width: 1.5rem !important;
    height: 1.5rem !important;
    min-width: 1.5rem !important;
    min-height: 1.5rem !important;
  }
  
  /* Additional utilities */
  .flex-0 {
    flex: 0 0 auto;
  }
  
  .flex-auto {
    flex: 1 1 auto;
  }
  
  .min-w-0 {
    min-width: 0;
  }
}

/* Global Styles */
html, body {
  height: 100%;
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
}

/* Angular Material Form Field Fixes */
.mat-mdc-form-field {
  width: 100%;
  margin-bottom: 0.75rem;
}

/* Fix form field subscript positioning */
.mat-mdc-form-field-subscript-wrapper {
  position: static !important;
  margin-top: 0.25rem;
}

/* Ensure error messages have proper space */
.mat-mdc-form-field-error {
  font-size: 0.75rem;
  margin-top: 0.25rem;
}

/* Ensure proper outline colors for Material form fields */
.mat-mdc-text-field-wrapper:not(.mdc-text-field--invalid) .mdc-notched-outline__leading,
.mat-mdc-text-field-wrapper:not(.mdc-text-field--invalid) .mdc-notched-outline__notch,
.mat-mdc-text-field-wrapper:not(.mdc-text-field--invalid) .mdc-notched-outline__trailing {
  border-color: rgba(0, 0, 0, 0.38) !important;
}

.mat-mdc-text-field-wrapper.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-notched-outline__leading,
.mat-mdc-text-field-wrapper.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-notched-outline__notch,
.mat-mdc-text-field-wrapper.mdc-text-field--focused:not(.mdc-text-field--invalid) .mdc-notched-outline__trailing {
  border-color: #2196f3 !important;
}

/* Fix for form field with errors */
.mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

/* Fix for dark mode backgrounds */
.dark {
  color-scheme: dark;
}
